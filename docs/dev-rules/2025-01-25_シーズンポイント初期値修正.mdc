# シーズンポイント初期値修正レポート

## 確認結果

### ❌ 仕様書の誤記を発見
**誤**: 新シーズンで1500ポイントスタート  
**正**: 新シーズンで1200ポイントスタート

### 📊 データベース確認結果

#### 1. profilesテーブル定義確認
- **開発環境 (wdttluticnlqzmqmfvgt)**:
  - rating: デフォルト値 1200
  - season_points: デフォルト値 1200

- **本番環境 (qgqcjtjxaoplhxurbpis)**:
  - rating: デフォルト値 1200
  - season_points: デフォルト値 1200

#### 2. シーズン終了処理関数確認
`end_current_season()` 関数内での処理:
```sql
-- 4. 全ユーザーのシーズンポイントをリセット
UPDATE profiles 
SET 
  season_points = 1200,  -- デフォルト値にリセット
  season_vote_points = 0,
  updated_at = NOW()
WHERE is_deleted = FALSE;
```

### ✅ 正しいシーズンポイント仕様
- **初期値**: 1200ポイント（レーティングと同じ）
- **シーズン終了時**: 1200ポイントにリセット
- **最低保証**: 1100ポイント（バトル後の最低制限）

### 📝 修正内容
仕様書 `docs/バトル終了・結果集計・レーティング計算システム仕様書.md` の以下の箇所を修正:

**修正前**:
```markdown
- **定期リセット**: シーズン終了時にリセット、新シーズンで1500ポイントスタート
```

**修正後**:
```markdown
- **定期リセット**: シーズン終了時にリセット、新シーズンで1200ポイントスタート
```

### 🔍 検証の完了
両環境のデータベース定義と関数実装を確認した結果、シーズンポイントの初期値は**1200ポイント**が正しい値であることを確認しました。
