# BeatNexus サイトマップ送信ガイド

## Google Search Console でのサイトマップ送信手順

### 1. Google Search Console にアクセス
https://search.google.com/search-console/

### 2. プロパティの確認
- **対象ドメイン**: `beatnexus.app`
- **プロパティタイプ**: ドメインプロパティ (推奨)

### 3. サイトマップの送信
1. 左側メニューから「サイトマップ」を選択
2. 「新しいサイトマップの追加」に以下を入力:
   ```
   sitemap.xml
   ```
3. 「送信」をクリック

### 4. サイトマップURL
```
https://beatnexus.app/sitemap.xml
```

## サイトマップの特徴

### 🌐 多言語対応
- 日本語 (ja) と英語 (en) の両方に対応
- hreflang属性で言語を明示
- Google検索での適切な言語別表示を支援

### 📊 優先度設定
- **1.0 (最高)**: ホームページ
- **0.9**: バトル一覧ページ  
- **0.8**: ランキングページ
- **0.7**: フォーラム、コミュニティ一覧、バトル詳細
- **0.6**: プロフィール、コミュニティ詳細
- **0.5**: 通知、アーカイブバトル
- **0.4**: ユーザープロフィール

### 🔄 更新頻度
- **hourly**: バトル一覧、フォーラム (最新情報が頻繁に更新)
- **daily**: ホーム、ランキング、コミュニティ、通知
- **weekly**: プロフィール、ユーザーページ
- **monthly**: アーカイブバトル (変更頻度が低い)

### 📈 含まれるページ数
- **静的ページ**: 7ページ (ホーム、バトル、ランキングなど)
- **動的ページ**: 最大650ページ
  - アクティブバトル: 最新100件
  - アーカイブバトル: 最新500件  
  - ユーザープロフィール: 最新100名
  - コミュニティ: 最新50個

## サイトマップ生成の仕組み

### 自動生成
```bash
# 手動生成
pnpm generate:sitemap

# ビルド時自動生成
pnpm build
```

### 生成タイミング
1. **ビルド時**: `pnpm build` 実行時に自動実行
2. **手動**: `pnpm generate:sitemap` で個別実行可能
3. **デプロイ時**: Vercelデプロイ時に自動生成

### データソース
- **Supabase**: 動的データを自動取得
  - active_battles テーブル
  - archived_battles テーブル  
  - profiles テーブル
  - communities テーブル

## トラブルシューティング

### サイトマップが送信できない場合
1. **robots.txt確認**: https://beatnexus.app/robots.txt
2. **サイトマップアクセス確認**: https://beatnexus.app/sitemap.xml
3. **ドメイン確認**: beatnexus.app が正しく設定されているか

### インデックス登録が進まない場合
1. **ページ品質確認**: Core Web Vitals, モバイルフレンドリー
2. **内部リンク**: 各ページが適切にリンクされているか
3. **コンテンツ品質**: 重複コンテンツがないか

### 定期メンテナンス
- **月1回**: サイトマップ送信状況の確認
- **週1回**: インデックス登録状況の確認  
- **随時**: 新しい動的ページの追加状況確認

## SEO 効果測定指標

### Google Search Console で確認すべき項目
1. **サイトマップ送信状況**: エラーなく送信されているか
2. **インデックス登録数**: サイトマップ内のページが登録されているか
3. **検索パフォーマンス**: 検索流入の増加
4. **ページエクスペリエンス**: Core Web Vitals の改善

### 期待される改善効果
- **検索エンジン発見性**: 新しいページの迅速なインデックス
- **多言語SEO**: 日英両言語での適切な検索結果表示
- **構造化データ**: サイト構造の検索エンジン理解向上
- **ランキング向上**: 優先度設定による重要ページの強調

## 注意事項

### 定期的な更新
- サイトマップは動的に生成されるため、定期的な確認不要
- ただし、新しいページタイプ追加時は手動確認推奨

### パフォーマンス考慮
- 大量の動的ページを含むため、生成時間に注意
- 必要に応じて生成対象件数の調整を検討

### プライバシー配慮  
- 公開プロフィールのみサイトマップに含める
- 削除されたアカウントは除外
- プライベートコミュニティは除外
